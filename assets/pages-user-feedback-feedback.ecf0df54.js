import{u as e,W as t,o as s,c as a,w as o,i,a as n,b as l,I as r,v as d,x as m}from"./index-735f3df1.js";import{_ as u}from"./_plugin-vue_export-helper.1b428a4d.js";const c={_origin:"https://api.emailjs.com"},p=(e,t,s)=>{if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class _{constructor(e){this.status=e.status,this.text=e.responseText}}const h=(e,t,s={})=>new Promise(((a,o)=>{const i=new XMLHttpRequest;i.addEventListener("load",(({target:e})=>{const t=new _(e);200===t.status||"OK"===t.text?a(t):o(t)})),i.addEventListener("error",(({target:e})=>{o(new _(e))})),i.open("POST",c._origin+e,!0),Object.keys(s).forEach((e=>{i.setRequestHeader(e,s[e])})),i.send(t)})),f=(e,t,s,a)=>{const o=a||c._userID;p(o,e,t);const i={lib_version:"3.2.0",user_id:o,service_id:e,template_id:t,template_params:s};return h("/api/v1.0/email/send",JSON.stringify(i),{"Content-type":"application/json"})};const g=u({data:()=>({to_name:"管理者",message:"",from_name:"",reply_to:"哈哈哈"}),methods:{sendEmail(){f("service_x6dnloj","template_uamuphk",{from_name:this.from_name,message:this.message},"Xbsu_M_8c80CtHZfe").then((t=>{e({title:"成功发送评价！",duration:2e3}),console.log("成功发送")}),(e=>{console.log(e)}))},submit(){if(""===this.message)return e({title:"请输入想说的话哟",icon:"none",duration:2e3});this.sendMail()},sendMail(){t.callFunction({name:"sendMail",data:{content:"用户"+this.from_name+"反馈："+this.message}}).then((t=>{console.log("8888",t),!0===t.success?(e({title:"成功发送评价！",duration:2e3}),this.message=""):e({title:"评价发送失败！",duration:2e3})}))}}},[["render",function(e,t,u,c,p,_){const h=i,f=r,g=d,b=m;return s(),a(h,{class:"feedback_box"},{default:o((()=>[n(h,{style:{"font-size":"18px","margin-bottom":"10px"}},{default:o((()=>[l("姓名：")])),_:1}),n(h,{class:"feedback"},{default:o((()=>[n(f,{modelValue:p.from_name,"onUpdate:modelValue":t[0]||(t[0]=e=>p.from_name=e),placeholder:"请输入您的姓名"},null,8,["modelValue"])])),_:1}),n(h,{style:{"font-size":"18px",margin:"30px 0 10px"}},{default:o((()=>[l("我的意见：")])),_:1}),n(h,{class:"feedback"},{default:o((()=>[n(g,{modelValue:p.message,"onUpdate:modelValue":t[1]||(t[1]=e=>p.message=e),placeholder:"请留下您的意见"},null,8,["modelValue"])])),_:1}),n(b,{class:"btn",onClick:_.submit},{default:o((()=>[l("提交")])),_:1},8,["onClick"])])),_:1})}],["__scopeId","data-v-9e8dd986"]]);export{g as default};
